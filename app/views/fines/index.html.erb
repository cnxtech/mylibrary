<h1 class="sr-only">Fines</h1>

<% content_for(:navigation) do %>
  <%= render 'shared/navigation' %>
<% end %>

<% if @fines.any? %>
  <div class="page-section">
    <h2>Payable: <%= number_to_currency(@fines.sum(&:owed)) %></h2>

    <div class="d-none d-md-flex row font-weight-bold list-header">
      <div class="row col-md-4">
        <div class="col-md-6">Reason</div>
        <div class="col-md-6">Amount</div>
      </div>
      <div class="row col-md-8">
        <div class="col-md-7">Title</div>
        <div class="row col-md-5">
          <div class="col-md-6">Author</div>
          <div class="col-md-6 call_number">Call number</div>
        </div>
      </div>
    </div>

    <ul class="fines list-group">
      <%= render @fines %>
    </ul>
  </div>
<% end %>

<% accruing = @checkouts.select{ |item| item.accrued > 0.0 } %>
<% if accruing.any? %>
  <div class="page-section">
    <h2>Accruing: <%= number_to_currency(accruing.sum(&:accrued)) %></h2>

    <span class="text-overdue">
      <%= sul_icon :'sharp-warning-24px' %>
    </span>
    Fines are accruing on <%= pluralize(accruing.length, 'overdue item') %>. You must return the <%= pluralize(accruing.length, 'item')%> before you can pay this fine.
  </div>
<% end %>

<div class="page-section">
  <h2>Refund policy</h2>
  <p>
    These fines &amp; fees are <b>non refundable</b>:
    <ul>
      <li>Overdue and billing fines,</li>
      <li>Any fines for Law library materials.</li>
    </ul>
  </p>
  <p>Replacement fines for lost items <b>may be eligible for refund</b>, if you find and return the item to the library. The item must be in good condition, and returned within a year of the original payment.</p>
  <p>Refunds are issued by check and may take two to four weeks to process. Contact library staff at the source library to discuss a refund.</p>
</div>
